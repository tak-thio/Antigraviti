# Knowledge機能の仕組みと実践的な運用方法

Agent Managerにおける「Knowledge」機能の役割と、常時参照を避ける設計思想、およびスレッドごとの正しいアタッチ運用について解説します。

## 1. Knowledge機能の基本概念

- **独立したスレッド:** 各チャットスレッドはデフォルトで「まっさらな状態」として開始され、他のプロジェクトの断片的な記憶を引き継ぎません。
- **ファイルによるナレッジ共有:** 過去の有益なやり取りや作成したルールは、「ドキュメント（ファイル）」としてワークスペースに保存し、それをナレッジソースとして活用します。
- **オンデマンドな参照:** すべてのスレッドに全ナレッジを常時読み込ませるのではなく、そのタスクに必要なファイルだけをその都度指定（アタッチ）してAIに参照させます。

## 2. なぜ「常時すべてを参照」させないのか（設計思想）

- **レスポンスと処理速度の悪化防止:** スレッドごとに不要な情報まで読み込むと、AIの処理が極端に重くなります。
- **コンテキスト長（文脈記憶）の保護:** AIが一度に記憶できる情報量には制限があるため、本当に必要なタスクの記憶スペースを確保する狙いがあります。
- **情報の混線（ハルシネーション）防止:** 例えば「Aプロジェクトの規約」と「Bプロジェクトの規約」が混在することで発生する、AIの混乱を防ぎます。

## 3. 具体的な利用シーンと運用手順（Use Cases）

- **シーンA（ルールの適用）:** 新しいドキュメントを作成する際、チャットの入力欄（ファイルの添付機能や `@` メンション等）から `000_document_formatting_guidelines.md` をアタッチし、「このルールに厳密に従って作成して」と指示します。
- **シーンB（過去の知見の再利用）:** 別のスレッドで複雑なエラーを解決し、その手順や原因をまとめた `.md` ファイルを作成しておき、次に似た作業やバグ対応をする際にそのファイルをナレッジとして参照させます。

## 4. 注意点・ベストプラクティス

- プロンプト（指示）を出す際は、「**やってほしいこと（タスク）**」と「**参照すべきKnowledge（アタッチするファイル）**」をセットにして明示的に指示することが、AIエージェントを最も正確かつ効率的にコントロールするコツです。
